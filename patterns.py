"""
Author: Leo Vidarte <http://nerdlabs.com.ar>

This is free software,
you can redistribute it and/or modify it
under the terms of the GPL version 3
as published by the Free Software Foundation.

"""

# Spaceships
_glider = (
    (0, 1, 0),
    (0, 0, 1),
    (1, 1, 1),
    )

_lightweight_spaceship = (
    (1, 0, 0, 1, 0),
    (0, 0, 0, 0, 1),
    (1, 0, 0, 0, 1),
    (0, 1, 1, 1, 1),
    )

_spaceship_44p5h2v0 = (
    (0,0,0,0,1,0,0,0,0,0,1,0,0,0,0),
    (0,0,0,1,1,1,0,0,0,1,1,1,0,0,0),
    (0,0,1,0,0,1,0,0,0,1,0,0,1,0,0),
    (0,1,1,1,0,0,0,0,0,0,0,1,1,1,0),
    (0,0,1,0,1,0,0,0,0,0,1,0,1,0,0),
    (0,0,0,0,1,1,0,0,0,1,1,0,0,0,0),
    (1,0,0,0,0,1,0,0,0,1,0,0,0,0,1),
    (0,0,0,0,0,1,0,0,0,1,0,0,0,0,0),
    (1,1,0,0,0,1,0,0,0,1,0,0,0,1,1),
    (0,0,1,0,0,1,0,0,0,1,0,0,1,0,0),
    (0,0,0,0,1,0,0,0,0,0,1,0,0,0,0),
    )

_spaceship_70p5h2v0 = (
    (0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0),
    (0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0),
    (1,1,0,1,1,0,0,0,0,0,0,0,0,1,1,0,1,1),
    (1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1),
    (0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0),
    (0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0),
    (0,0,1,0,0,1,1,0,0,0,0,1,1,0,0,1,0,0),
    (0,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0),
    (0,0,0,0,1,1,0,1,1,1,1,0,1,1,0,0,0,0),
    (0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,0,0,0),
    (0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0),
    (0,0,0,1,1,0,1,1,0,0,1,1,0,1,1,0,0,0),
    (0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0),
    (0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0),
    )

_weekender = (
    (0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0),
    (0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0),
    (1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1),
    (0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0),
    (0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0),
    (0,0,1,0,0,0,1,1,1,1,0,0,0,1,0,0),
    (0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0),
    (0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0),
    (0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0),
)

_dart = (
    (0,0,0,0,0,0,0,1,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,1,0,1,0,0,0,0,0,0),
    (0,0,0,0,0,1,0,0,0,1,0,0,0,0,0),
    (0,0,0,0,0,0,1,1,1,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,1,1,0,0,0,1,1,0,0,0,0),
    (0,0,1,0,0,0,1,0,1,0,0,0,1,0,0),
    (0,1,1,0,0,0,1,0,1,0,0,0,1,1,0),
    (1,0,0,0,0,0,1,0,1,0,0,0,0,0,1),
    (0,1,0,1,1,0,1,0,1,0,1,1,0,1,0),
)

_tagalong_nn = (
    (1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    (1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0),
    (1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0),
    (0,1,0,0,1,0,0,1,1,0,0,0,0,0,1,1,1,0),
    (0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1),
    (0,1,0,0,1,0,0,1,1,0,0,0,0,0,1,1,1,0),
    (1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0),
    (1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0),
    (1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
)

# Oscilators
_blinker_period_2 = (
    (1,),
    (1,),
    (1,),
    )

_toad_period_2 = (
    (0,0,1,0),
    (1,0,0,1),
    (1,0,0,1),
    (0,1,0,0),
)

_beacon_period_2 = (
    (1,1,0,0),
    (1,0,0,0),
    (0,0,0,1),
    (0,0,1,1),
)

_star_period_3 = (
    (0,0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,1,0,0,0,0,0,0),
    (0,0,0,0,0,1,1,1,0,0,0,0,0),
    (0,0,0,1,1,1,0,1,1,1,0,0,0),
    (0,0,0,1,0,0,0,0,0,1,0,0,0),
    (0,0,1,1,0,0,0,0,0,1,1,0,0),
    (0,1,1,0,0,0,0,0,0,0,1,1,0),
    (0,0,1,1,0,0,0,0,0,1,1,0,0),
    (0,0,0,1,0,0,0,0,0,1,0,0,0),
    (0,0,0,1,1,1,0,1,1,1,0,0,0),
    (0,0,0,0,0,1,1,1,0,0,0,0,0),
    (0,0,0,0,0,0,1,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,0),
    )

_cross_period_3 = (
    (0,0,0,0,0,0,0,0,0,0),
    (0,0,0,1,1,1,1,0,0,0),
    (0,0,0,1,0,0,1,0,0,0),
    (0,1,1,1,0,0,1,1,1,0),
    (0,1,0,0,0,0,0,0,1,0),
    (0,1,0,0,0,0,0,0,1,0),
    (0,1,1,1,0,0,1,1,1,0),
    (0,0,0,1,0,0,1,0,0,0),
    (0,0,0,1,1,1,1,0,0,0),
    (0,0,0,0,0,0,0,0,0,0),
    )

_french_kiss_period_3 = (
    (0,0,0,0,0,0,0,1,1),
    (0,0,0,0,0,0,0,1,0),
    (0,0,0,0,1,1,0,1,0),
    (0,0,0,1,0,0,1,0,0),
    (0,0,0,1,0,0,0,0,0),
    (0,0,0,0,0,1,0,0,0),
    (0,0,1,0,0,1,0,0,0),
    (0,1,0,1,1,0,0,0,0),
    (0,1,0,0,0,0,0,0,0),
    (1,1,0,0,0,0,0,0,0),
)

_clock_2_period_4 = (
    (0,0,0,0,0,0,1,1,0,0,0,0),
    (0,0,0,0,0,0,1,1,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,1,1,1,1,0,0,0,0),
    (1,1,0,1,0,0,1,0,1,0,0,0),
    (1,1,0,1,0,1,0,0,1,0,0,0),
    (0,0,0,1,0,1,0,0,1,0,1,1),
    (0,0,0,1,0,0,0,0,1,0,1,1),
    (0,0,0,0,1,1,1,1,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,1,1,0,0,0,0,0,0),
    (0,0,0,0,1,1,0,0,0,0,0,0),
)

_pinwheel_period_4 = (
    (0,0,0,0,0,0,1,1,0,0,0,0),
    (0,0,0,0,0,0,1,1,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,1,1,1,1,0,0,0,0),
    (1,1,0,1,0,0,0,0,1,0,0,0),
    (1,1,0,1,1,0,0,0,1,0,0,0),
    (0,0,0,1,0,0,1,0,1,0,1,1),
    (0,0,0,1,0,1,0,0,1,0,1,1),
    (0,0,0,0,1,1,1,1,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,1,1,0,0,0,0,0,0),
    (0,0,0,0,1,1,0,0,0,0,0,0),
)

_octagon_period_5 = (
    (0,0,0,1,1,0,0,0),
    (0,0,1,0,0,1,0,0),
    (0,1,0,0,0,0,1,0),
    (1,0,0,0,0,0,0,1),
    (1,0,0,0,0,0,0,1),
    (0,1,0,0,0,0,1,0),
    (0,0,1,0,0,1,0,0),
    (0,0,0,1,1,0,0,0),
)

_fumarole_period_5 = (
    (0,0,0,0,0,0,0,0),
    (0,0,0,1,1,0,0,0),
    (0,1,1,0,0,1,1,0),
    (0,1,0,0,0,0,1,0),
    (0,0,1,0,0,1,0,0),
    (1,0,1,0,0,1,0,1),
    (1,1,0,0,0,0,1,1),
)

_pentoad_period_5 = (
    (0,0,0,0,0,0,0,0,0,0,0,1,1),
    (0,0,0,0,0,0,0,0,0,0,0,1,0),
    (0,0,0,0,0,0,0,0,1,1,0,1,0),
    (0,0,0,0,0,0,1,0,0,0,1,0,0),
    (0,0,0,0,0,1,0,0,0,0,0,0,0),
    (0,0,0,0,0,1,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,1,0,0,0,0,0),
    (0,0,0,0,0,0,0,1,0,0,0,0,0),
    (0,0,1,0,0,0,1,0,0,0,0,0,0),
    (0,1,0,1,1,0,0,0,0,0,0,0,0),
    (0,1,0,0,0,0,0,0,0,0,0,0,0),
    (1,1,0,0,0,0,0,0,0,0,0,0,0),
)

_koks_galaxy_period_8 = (
    (0,0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,1,1,0,0,0,0,0,0,0),
    (0,0,0,0,1,0,0,0,0,0,0,0,0),
    (0,0,0,1,1,0,0,1,1,1,0,0,0),
    (0,0,0,1,0,0,0,1,0,1,1,1,0),
    (0,0,0,1,1,0,1,0,0,0,0,1,0),
    (0,0,0,0,0,1,0,1,0,0,0,0,0),
    (0,1,0,0,0,0,1,0,1,1,0,0,0),
    (0,1,1,1,0,1,0,0,0,1,0,0,0),
    (0,0,0,1,1,1,0,0,1,1,0,0,0),
    (0,0,0,0,0,0,0,0,1,0,0,0,0),
    (0,0,0,0,0,0,0,1,1,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,0),
)

_pentadecathlon_period_5 = (
    (0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0),
    (0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0),
    (0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0),
    (0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0),
    (0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0),
    (0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0),
    (0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0),
    (0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0),
    (0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0),
)

# Steel lives
_block = (
    (1,1),
    (1,1),
    )

_boat = (
    (1,1,0),
    (1,0,1),
    (0,1,0),
    )

_beehive = (
    (0,1,1,0),
    (1,0,0,1),
    (0,1,1,0),
    )

_loaf = (
    (0,1,1,0),
    (1,0,0,1),
    (0,1,0,1),
    (0,0,1,0),
    )

# Guns
_gosper_glider_gun = (
    (0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1),
    (0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1),
    (1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    (1,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    (0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    )


def rotate(pattern, direction=90):
    new = []
    if direction == 90:
        for x in xrange(len(pattern[0])):
            row = []
            for y in xrange(len(pattern)-1, -1, -1):
                row.append(pattern[y][x])
            new.append(tuple(row))
    if direction == -90:
        for x in xrange(len(pattern[0])-1, -1, -1):
            row = []
            for y in xrange(len(pattern)):
                row.append(pattern[y][x])
            new.append(tuple(row))
    if direction == 180:
        for y in xrange(len(pattern)-1, -1, -1):
            new.append(tuple(pattern[y][::-1]))
    return tuple(new)



from collections import OrderedDict

patterns = OrderedDict([
    ('One cell', None),
    ('--- Spaceships ---', None),
    ('Glider', _glider),
    ('Glider (90)', rotate(_glider, 90)),
    ('Glider (-90)', rotate(_glider, -90)),
    ('Glider (-180)', rotate(_glider, 180)),
    ('Lightweight spaceship', _lightweight_spaceship),
    ('Lightweight spaceship (90)', rotate(_lightweight_spaceship, 90)),
    ('Lightweight spaceship (-90)', rotate(_lightweight_spaceship, -90)),
    ('Lightweight spaceship (180)', rotate(_lightweight_spaceship, 180)),
    ('Weekender', _weekender),
    ('Weekender (90)', rotate(_weekender, 90)),
    ('Weekender (-90)', rotate(_weekender, -90)),
    ('Weekender (180)', rotate(_weekender, 180)),
    ('Dart', _dart),
    ('Dart (90)', rotate(_dart, 90)),
    ('Dart (-90)', rotate(_dart, -90)),
    ('Dart (180)', rotate(_dart, 180)),
    ('Tagalong nn', _tagalong_nn),
    ('Tagalong nn (90)', rotate(_tagalong_nn, 90)),
    ('Tagalong nn (-90)', rotate(_tagalong_nn, -90)),
    ('Tagalong nn (180)', rotate(_tagalong_nn, 180)),
    ('Spaceship 44P5H2V0', _spaceship_44p5h2v0),
    ('Spaceship 44P5H2V0 (90)', rotate(_spaceship_44p5h2v0, 90)),
    ('Spaceship 44P5H2V0 (-90)', rotate(_spaceship_44p5h2v0, -90)),
    ('Spaceship 44P5H2V0 (180)', rotate(_spaceship_44p5h2v0, 180)),
    ('Spaceship 70P5H2V0', _spaceship_70p5h2v0),
    ('Spaceship 70P5H2V0 (90)', rotate(_spaceship_70p5h2v0, 90)),
    ('Spaceship 70P5H2V0 (-90)', rotate(_spaceship_70p5h2v0, -90)),
    ('Spaceship 70P5H2V0 (180)', rotate(_spaceship_70p5h2v0, 180)),
    ('--- Oscilators ---', None),
    ('Blinker, period 2', _blinker_period_2),
    ('Toad, period 2', _toad_period_2),
    ('Beacon, period 2', _beacon_period_2),
    ('Star, period 3', _star_period_3),
    ('Cross, period 3', _cross_period_3),
    ('French kiss, period 3', _french_kiss_period_3),
    ('French kiss, period 3 (90)', rotate(_french_kiss_period_3, 90)),
    ('Clock 2, period 4', _clock_2_period_4),
    ('Pinwhell, period 4', _pinwheel_period_4),
    ('Octagon, period 5', _octagon_period_5),
    ('Fumarole, period 5', _fumarole_period_5),
    ('Fumarole, period 5 (90)', rotate(_fumarole_period_5, 90)),
    ('Fumarole, period 5 (-90)', rotate(_fumarole_period_5, -90)),
    ('Fumarole, period 5 (180)', rotate(_fumarole_period_5, 180)),
    ('Pentoad, period 5', _pentoad_period_5),
    ('Pentoad, period 5 (90)', rotate(_pentoad_period_5, 90)),
    ('Kok\'s galaxy, period 8', _koks_galaxy_period_8),
    ('Pentadecathlon, period 15', _pentadecathlon_period_5),
    ('Pentadecathlon, period 15 (90)', rotate(_pentadecathlon_period_5, 90)),
    ('--- Still lives ---', None),
    ('Block', _block),
    ('Boat', _boat),
    ('Beehive', _beehive),
    ('Loaf', _loaf),
    ('--- Guns ---', None),
    ('Gosper glider gun', _gosper_glider_gun),
    ])
